var HelloSign =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	!function(){function e(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(i,t,n){e[t]=n});return e}function i(e){"undefined"!=typeof e&&(window.console&&console.log?console.log(e):alert(e))}function t(e){c.isDebugEnabled&&"undefined"!=typeof e&&window.console&&console.log&&console.log(e)}function n(){return a()?window.pageXOffset:o()?document.documentElement.scrollLeft:document.body.scrollLeft}function r(){return a()?window.pageYOffset:o()?document.documentElement.scrollTop:document.body.scrollTop}function o(){return"CSS1Compat"===(document.compatMode||"")}function a(){return void 0!==window.pageXOffset}var s=e();window.isDebugEnabled=!!s.debug&&"true"===s.debug;var l=navigator.userAgent.toLowerCase(),d={cacheBust:0,lastHash:0,intervalId:0,rmCallback:null,defaultDelay:500,hasPostMessage:void 0!==window.postMessage,_serializeMessageValue:function(e){return"object"==typeof e&&(e=JSON.stringify(e)),encodeURIComponent(e)},send:function(e,i,n){t("XWM Send: Sending Message."),t("  targetUrl: "+i);var r=d;if(i){if("string"!=typeof e){var o=[];for(var a in e)o.push(a+"="+this._serializeMessageValue(e[a]));e=o.join("&")}if(t("  message: "+e),r.hasPostMessage)n=n||parent,n.postMessage(e,i.replace(/([^:]+:\/\/[^\/]+).*/,"$1"));else if(i){var s=(new Date).getTime(),l=++r.cacheBust,h=document.getElementById(n);h?h.setAttribute("src",i.replace(/#.*$/,"")+"#"+s+l+"&"+e):parent.location=i.replace(/#.*$/,"")+"#"+s+l+"&"+e}t("XWM Send: Message sent.")}},receive:function(e,n,r){"function"!=typeof e&&i("callback must be a function"),"string"!=typeof n&&i("sourceOrigin must be a string"),t("XWM Receive: Initialize receiver."),t("  callback: "+(e.name?e.name:"Anonymous function")),t("  sourceOrigin: "+n);var o=d;o.hasPostMessage?(e&&(o.rmCallback&&(window.addEventListener?window.removeEventListener("message",o.rmCallback,!1):window.detachEvent("onmessage",o.rmCallback)),o.rmCallback=function(i){if(i.origin!==n){var r=new RegExp("[/|.]"+n+"$","i");if(!r.test(i.origin))return!1}t("XWM Receive: Message received!"),t("  data: "+i.data),t("  sourceOrigin: "+n),e(i)}),window.addEventListener?window.addEventListener("message",o.rmCallback,!1):window.attachEvent("onmessage",o.rmCallback)):(t("XWM Receive: Starting poll..."),o.intervalId&&(clearInterval(o.intervalId),o.intervalId=null),"undefined"==typeof r&&(r=o.defaultDelay),e&&(r=void 0!==r?r:200,o.intervalId=setInterval(function(){var i=document.location.hash,r=/^#?\d+&/;if(i!==o.lastHash&&r.test(i)){o.lastHash=i;var a=i.replace(r,"");t("XWM Receive: Message received!"),t("  data: "+a),t("  sourceOrigin: "+n),e({data:a})}},r)))}},h={savedViewportContent:"",set:function(){t("Optimizing viewport meta tag for mobile"),this.savedViewportContent=this._getElement().getAttribute("content");var e=this._explodePairs(this.savedViewportContent);e.width="device-width",e["maximum-scale"]="1.0",this._getElement().setAttribute("content",this._joinPairs(e))},restore:function(){t("Restoring viewport meta tag"),this._getElement().setAttribute("content",this.savedViewportContent)},_getElement:function(){var e=document.querySelector("meta[name=viewport]");return e||(e=document.createElement("meta"),e.setAttribute("name","viewport"),e.setAttribute("content","initial-scale=1.0"),document.head.appendChild(e)),e},_joinPairs:function(e){var i=[];for(var t in e)i.push(t+"="+e[t]);return i.join(", ")},_explodePairs:function(e){var i=e.split(","),t={};return i.forEach(function(e){e=e.trim();var i=e.split("=");t[i[0]]=i[1]}),t}},c={VERSION:__webpack_require__(1).version,DEFAULT_UX_VERSION:1,IFRAME_WIDTH_RATIO:.8,DEFAULT_WIDTH:900,DEFAULT_HEIGHT:900,MIN_HEIGHT:480,wrapper:null,iframe:null,overlay:null,cancelButton:null,clientId:null,isOldIE:/msie (8|7|6|5)/gi.test(l),isFF:/firefox/gi.test(l),isOpera:/opera/gi.test(l),isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(l),baseUrl:"https://www.hellosign.com",cdnBaseUrl:"https://s3.amazonaws.com/cdn.hellofax.com",XWM:d,CULTURES:{EN_US:"en_US",FR_FR:"fr_FR",DE_DE:"de_DE",SV_SE:"sv_SE",ZH_CN:"zh_CN",DA_DK:"da_DK",NL_NL:"nl_NL",init:function(){return this.supportedCultures=[this.EN_US,this.FR_FR,this.DE_DE,this.SV_SE,this.ZH_CN,this.DA_DK,this.NL_NL],this}}.init(),isDebugEnabled:window.isDebugEnabled,EVENT_SIGNED:"signature_request_signed",EVENT_DECLINED:"signature_request_declined",EVENT_CANCELED:"signature_request_canceled",EVENT_SENT:"signature_request_sent",EVENT_TEMPLATE_CREATED:"template_created",EVENT_ERROR:"error",init:function(e){this.clientId=e},open:function(e){var i=this,n=this.safeUrl(e.redirectUrl),r=e.messageListener,o=this.safeUrl(e.url);if(this.uxVersion=e.uxVersion||this.DEFAULT_UX_VERSION,this.isDefaultUX=this.uxVersion===this.DEFAULT_UX_VERSION,this.healthCheckTimeoutMs=e.healthCheckTimeoutMs,this.uxVersion&&(o+=(o.indexOf("?")>0?"&":"?")+"ux_version="+this.uxVersion),"undefined"!=typeof e.debug&&(this.isDebugEnabled=e.debug===!0||"true"==e.debug),"undefined"!=typeof e.skipDomainVerification&&(this.skipDomainVerification=e.skipDomainVerification===!0||"true"==e.skipDomainVerification),"undefined"!=typeof e.hideHeader&&(this.hideHeader=e.hideHeader===!0||"true"==e.hideHeader),"object"==typeof e.whiteLabelingOptions?(this.whiteLabelingOptions=JSON.stringify(e.whiteLabelingOptions),this.whiteLabelingOptions=this.whiteLabelingOptions.replace(/#/g,"")):"undefined"!=typeof e.whiteLabelingOptions&&t("Invalid white labeling options supplied, option will be ignored: "+e.whiteLabelingOptions),this.isInPage=void 0!==e.container,this.container=e.container||document.body,this.isInPage&&void 0!==e.height&&(isNaN(parseInt(e.height,10))||e.height<=0))throw new Error("Invalid iFrame height ("+e.height+") it must be a valid positive number");if(t("Opening HelloSign embedded iFrame with the following params:"),t(e),!o)throw new Error("No url specified");var a="undefined"==typeof e.userCulture?this.CULTURES.EN_US:e.userCulture;if(this.inArray(a,this.CULTURES.supportedCultures)===-1)throw new Error("Invalid userCulture specified: "+a);o+=o.indexOf("?")>0?"&":"?",n&&(o+="redirect_url="+encodeURIComponent(n)+"&"),o+="parent_url="+encodeURIComponent(document.location.href.replace(/\?.*/,""))+"&",o+=this.skipDomainVerification===!0?"skip_domain_verification=1&":"",o+="client_id="+this.clientId+"&",o+="undefined"!=typeof e.requester?"requester="+encodeURIComponent(e.requester)+"&":"",o+="user_culture="+a,this.isDebugEnabled&&(o+="&debug=true"),this.hideHeader&&(o+="&hideHeader=true"),this.whiteLabelingOptions&&(o+="&white_labeling_options="+encodeURI(this.whiteLabelingOptions)),o+="&js_version="+this.VERSION;var s=o.replace(/([^:]+:\/\/[^\/]+).*/,"$1"),l=this.getWindowDimensions(e.height),u={overlay:{position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","z-index":9997,display:"block","background-color":"#222",opacity:.4,"-khtml-opacity":.4,"-moz-opacity":.4,filter:"alpha(opacity=40)","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)"},wrapper:this.isInPage?{}:{position:"absolute",top:l.top,left:l.left,"z-index":9998},iframe:this.isInPage?{}:{border:"1px solid #505050","box-shadow":"0px 2px 18px 2px #666","background-color":"#FFF","z-index":9998},cancelButton:{position:"absolute",top:"-13px",right:"-13px",width:"30px",height:"30px","background-image":"url("+this.cdnBaseUrl+"/css/fancybox/fancybox.png)","background-position":"-40px 0px",cursor:"pointer","z-index":9999}},p=function(){if(i.iframe){var e={};e=i.isMobile?i.getMobileDimensions():i.getWindowDimensions(),i.wrapper.style.top=e.top,i.wrapper.style.left=e.left,i.iframe.style.height=e.heightString,i.iframe.style.width=e.widthString}};if(this.uxVersion>1)if(this.isInPage)u.wrapper.width="100%",u.wrapper.height=l.heightString,u.iframe.width="100%",u.iframe.height=l.heightString,u.iframe.border="none",u.iframe["box-shadow"]="none",u.cancelButton.display="none";else if(this.isMobile){var f=this.getMobileDimensions();u.wrapper.position="fixed",u.wrapper.top="0",u.wrapper.left="0",u.wrapper.width=f.widthString,u.wrapper.height=f.heightString,u.iframe.position="fixed",u.iframe.top=0,u.iframe.left=0,u.iframe.width=f.widthString,u.iframe.height=f.heightString,u.iframe.border="none",u.iframe["box-shadow"]="none",u.cancelButton.display="none"}if(this.isInPage||(this.overlay||(this.overlay=document.createElement("div"),this.overlay.setAttribute("id","hsEmbeddedOverlay"),document.body.appendChild(this.overlay)),this.overlay.setAttribute("style","display: block;")),this.wrapper||(this.wrapper=document.createElement("div"),this.wrapper.setAttribute("id","hsEmbeddedWrapper"),this.container.appendChild(this.wrapper)),!this.isInPage)if(this.isMobile&&this.isDefaultUX){var m=document.body.clientWidth/window.innerWidth,g=function(){var e=document.body.clientWidth/window.innerWidth;m!==e&&(m=e,p())};window.onscroll=g}else window.onresize=p;this.iframe||(this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id","hsEmbeddedFrame"),this.wrapper.appendChild(this.iframe)),this.iframe.setAttribute("src",o),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("frameborder","0"),this.isDefaultUX&&this.iframe.setAttribute("width",this.DEFAULT_WIDTH),this.iframe.setAttribute("height",l.heightRaw),(o.indexOf("embeddedSign")===-1||null!=e.uxVersion&&e.uxVersion<2)&&(this.isInPage||e.allowCancel!==!0&&void 0!==e.allowCancel||this.cancelButton?!e.allowCancel&&this.cancelButton&&this.wrapper.removeChild(this.cancelButton):(this.cancelButton=document.createElement("a"),this.cancelButton.setAttribute("id","hsEmbeddedCancel"),this.cancelButton.setAttribute("href","javascript:;"),this.cancelButton.onclick=function(){c.close(),r&&(t("Reporting cancelation"),r({event:c.EVENT_CANCELED}))},this.wrapper.appendChild(this.cancelButton)));for(var w in u){var v=this[w];if(v)for(var b in u[w])try{v.style[b]=u[w][b]}catch(e){t(e)}}if(this.cancelButton&&(this.isFF||this.isOpera)){var E=this.cancelButton.getAttribute("style");E+=E?"; ":"",E+="background-image: "+u.cancelButton["background-image"]+"; ",E+="background-position: "+u.cancelButton["background-position"]+";",this.cancelButton.setAttribute("style",E)}this.isInPage||this.isMobile&&!this.isDefaultUX||p(),this.isMobile&&!this.isDefaultUX&&window===window.top&&h.set(),this.isMobile&&(this.fixIframe=function(){window.scrollTo(0,0)},this.fixIframe(),window.addEventListener("scroll",this.fixIframe)),this.healthCheckTimeoutMs&&(this._healthCheckTimeoutHandle=setTimeout(function(){var e="Signer page failed to initialize within "+i.healthCheckTimeoutMs+" milliseconds.";i.reportError(e,document.location.href),i.close()},this.healthCheckTimeoutMs)),d.receive(function(t){var n=t.source||"hsEmbeddedFrame";if("initialize"===t.data&&e.uxVersion>1)i.healthCheckTimeoutMs&&clearTimeout(i._healthCheckTimeoutHandle),d.send(JSON.stringify({type:"embeddedConfig",payload:e}),t.origin,n);else if("close"==t.data)c.close(),r&&e.uxVersion>1&&r({event:c.EVENT_CANCELED});else if("decline"==t.data)c.close(),r({event:c.EVENT_DECLINED});else if("user-done"==t.data)c.close();else if(0===t.data.indexOf("hello:")){var a=t.data.split(":"),s=a[1];d.send("helloback:"+s,o,n)}else if(r&&t.data){for(var l,h={},u=t.data.split("&"),p=function(e){var i=e;try{if(i=JSON.parse(e),"object"==typeof i)for(var t in i)i[t]=parseJson(i[t])}catch(e){}return i},f=0;f<u.length;f++)l=u[f].split("="),2===l.length&&(h[l[0]]=p(decodeURIComponent(l[1])));r(h)}},s)},close:function(){if(this.isMobile&&!this.isDefaultUX&&window===window.top&&h.restore(),t("Closing HelloSign embedded iFrame"),this.iframe){this.cancelButton&&(this.wrapper.removeChild(this.cancelButton),this.cancelButton=null),this._fadeOutIFrame()}this.isMobile&&window.removeEventListener("scroll",this.fixIframe)},_fadeOutIFrame:function(e){var i=this;if(i.iframe){if(e?e-=.1:e=1,i.iframe.style.opacity=e,i.iframe.style.filter="alpha(opacity="+parseInt(100*e,10)+")",e<=0)return i.iframe.style.opacity=0,i.iframe.style.filter="alpha(opacity=0)",i.iframe.style.display="none",clearTimeout(t),i.overlay&&i.container.removeChild(i.overlay),i.container.removeChild(i.wrapper),i.wrapper.removeChild(i.iframe),i.overlay=null,i.iframe=null,i.wrapper=null,!1;var t=setTimeout(function(e){return function(){i._fadeOutIFrame(e)}}(e),10)}},reportError:function(e,i){d.send({event:c.EVENT_ERROR,description:e},i)},ensureParentDomain:function(e,n,r,o,a){if(window.top==window)return void a(!0);if("string"!=typeof r)return void i("Token not supplied by HelloSign. Please contact support.");if("function"!=typeof a)return void i("Callback not supplied by HelloSign. Please contact support.");if(o===!0){var s="Domain verification has been skipped. Before requesting approval for your app, please be sure to test domain verification by setting skipDomainVerification to false.";t(s),alert(s),a(!0)}else d.receive(function(e){if(0===e.data.indexOf("helloback:")){var i=e.data.split(":"),t=i[1]==r;a(t)}},e);d.send("hello:"+r,n)},getWindowDimensions:function(e){var i,t,o=n(),a=r();this.isOldIE?(i=document.body.clientWidth,t=document.body.clientHeight):(i=window.innerWidth,t=window.innerHeight);var s=this.isInPage&&e?e:Math.max(this.MIN_HEIGHT,t-60),l=this.uxVersion>1?Math.min(this.DEFAULT_WIDTH,i*this.IFRAME_WIDTH_RATIO):this.DEFAULT_WIDTH;return{widthString:l+"px",heightString:s+"px",heightRaw:s,scrollX:o,scrollY:a,top:Math.max(0,a+parseInt((t-s)/2,10))+"px",left:Math.max(0,parseInt((i-this.DEFAULT_WIDTH)/2,10))+"px"}},getMobileDimensions:function(){var e;return e=window.innerHeight>window.innerWidth?{widthString:this.isDefaultUX?"100vw":window.innerWidth+"px",heightString:this.isDefaultUX?"100vh":window.innerHeight+"px"}:{widthString:"100vw",heightString:this.isDefaultUX?"100vh":"100%"},e.top="0",e.left="0",e},inArray:function(e,i){if(this.hasJQuery)return $.inArray(e,i);if(i)for(var t=0;t<i.length;t++)if(i[t]==e)return t;return-1},safeUrl:function(e){if(e)try{e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;");var i=document.createElement("div");i.innerHTML=e;var n=i.innerText;e=n?n:e.replace(/\&amp\;/g,"&")}catch(e){t("Could not decode url: "+e)}return e}};module.exports=c}();

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = {
		"name": "hellosign-embedded",
		"version": "1.2.0",
		"description": "A JavaScript library required for embedding HelloSign features into your webapp. For more information, see our API documentation at https://www.hellosign.com/api/documentation.",
		"main": "src/embedded.js",
		"scripts": {
			"test": "mocha tests/module.js",
			"start": "scripts/start.sh"
		},
		"repository": {
			"type": "git",
			"url": "git+https://github.com/HelloFax/hellosign-embedded.git"
		},
		"author": "HelloSign <api@hellosign.com> (http://hellosign.com)",
		"license": "ISC",
		"bugs": {
			"url": "https://github.com/HelloFax/hellosign-embedded/issues"
		},
		"homepage": "https://github.com/HelloFax/hellosign-embedded#readme",
		"devDependencies": {
			"chai": "^3.5.0",
			"jsdom": "8.4.0",
			"jsdom-global": "1.7.0",
			"json-loader": "^0.5.4",
			"mocha": "^2.4.5",
			"uglify-loader": "^1.3.0",
			"webpack": "^1.13.0"
		}
	};

/***/ }
/******/ ]);